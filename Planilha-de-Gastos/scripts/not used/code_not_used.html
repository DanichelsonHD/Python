<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="http://127.0.0.1:5000/sum_by_type"></script>
<script>
    let comida = 0

    $.ajax({
        type: "POST",
        url: "http://127.0.0.1:5000/sum_by_type",
        contentType: "application/json",
        data: JSON.stringify({ category: "Comida" }),
        success: function(response) {
            comida = response.result;

            drawChart()
        },
        error: function(error) {
            console.error("Erro:", error)
        }
    })
</script>

<div class="q2">
    <div class="gra-container">
      <canvas id="gra"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class="gra">

    <script>
      function drawChart() {
        var ctx = document.getElementById('gra').getContext('2d')
        var gra = new Chart(ctx, {
          type: 'pie',
          data: {
            labels: ['Vendas', 'Lucros', 'Despesas'], 
            datasets: [{
              data: [50, 30, 20], 
              backgroundColor: ['red', 'green', 'blue', 'orange'], 
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'button', 
              }
            }
          }
        })
      }

      drawChart()
    </script>